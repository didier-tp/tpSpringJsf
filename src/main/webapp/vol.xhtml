<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="templates/common.xhtml">

	<ui:define name="title">vol</ui:define>

	<ui:define name="content">
		<h:messages errorClass="erreur" />
		<h:form>
    dateDepart: <p:calendar value="#{volBean.dateDepart}" />
			<br />
    villeChoisie: <h:selectOneMenu value="#{volBean.villeChoisie}"
				valueChangeListener="#{volBean.recupVolsOnNewChoixVille}">
				<f:ajax event="change" render="idPanelIncluantTabVols" />
				<f:selectItems value="#{volBean.listeLocalites}" var="v"
					itemValue="#{v.ville}" itemLabel="#{v.ville} , #{v.aeroport}" />
			</h:selectOneMenu>
			<br />


			<h3>vols au depart de la ville selectionn√©e:</h3>
			<h:panelGrid id="idPanelIncluantTabVols">
			 <h:dataTable id="idTabVols" value="#{volBean.listeVols}" var="v"
				border="1" rendered="#{not empty volBean.listeVols}">
				<h:column>
				    <f:facet name="header"><f:verbatim>num</f:verbatim></f:facet>
					<h:outputText value="#{v.num}" />
				</h:column>
				<h:column>
				    <f:facet name="header"><f:verbatim>prix</f:verbatim></f:facet>
					<h:outputText value="#{v.prix}" />
				</h:column>
				<h:column>
				    <f:facet name="header"><f:verbatim>villeDepart</f:verbatim></f:facet>
					<h:outputText value="#{v.depart.localite.ville}" />
				</h:column>
				<h:column>
				    <f:facet name="header"><f:verbatim>dateDepart</f:verbatim></f:facet>
					<h:outputText value="#{v.depart.date}" />
				</h:column>
				<h:column>
				    <f:facet name="header"><f:verbatim>villeArrivee</f:verbatim></f:facet>
					<h:outputText value="#{v.arrivee.localite.ville}" />
				</h:column>
			  </h:dataTable>
			</h:panelGrid>

			<p:tabView id="tabViewXy">
				<p:tab title="onglet1">contenu onglet1</p:tab>
				<p:tab title="onglet2">contenu onglet2</p:tab>
			</p:tabView>


		</h:form>


	</ui:define>

</ui:composition>
</html>
